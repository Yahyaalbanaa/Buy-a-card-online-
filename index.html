<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>شبكة القحيط- بوابة شراء الكروت</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-dark: #0a0f1a;
            --secondary-dark: #111827;
            --card-dark: #1a2332;
            --card-lighter: #232d3f;
            --accent-green: #10b981;
            --accent-green-light: #34d399;
            --accent-yellow: #fbbf24;
            --accent-gold: #f59e0b;
            --text-primary: #ffffff;
            --text-secondary: #9ca3af;
            --text-muted: #6b7280;
            --border-color: #374151;
            --gradient-green: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-yellow: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            --gradient-hero: linear-gradient(180deg, #0a1628 0%, #0f172a 50%, #0a0f1a 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--primary-dark);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            padding-bottom: 76px;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
        }

        /* Page Management */
        .page {
            display: none;
            min-height: 100vh;
        }

        .page.active {
            display: block;
        }

        /* Header */
        .header {
            background: var(--primary-dark);
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .promo-text {
            color: var(--accent-green);
            font-size: 13px;
            font-weight: 500;
        }

        .header-badges {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-dark {
            background: var(--card-dark);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .badge-dark .dot {
            width: 6px;
            height: 6px;
            background: var(--accent-green);
            border-radius: 50%;
        }

        .settings-btn {
            background: var(--card-dark);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Sub Header */
        .sub-header {
            background: var(--primary-dark);
            padding: 12px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }

        .sub-header-title {
            color: var(--accent-green);
            font-size: 16px;
            font-weight: 600;
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--accent-green);
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .help-btn {
            background: var(--card-dark);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 14px;
        }

        /* Hero Section */
        .hero {
            background: var(--gradient-hero);
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-5g {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .hero-5g-text {
            font-size: 28px;
            font-weight: 800;
            color: var(--text-primary);
        }

        .hero-5g-label {
            color: var(--accent-green);
            font-size: 14px;
            font-weight: 600;
        }

        .hero-subtitle {
            color: var(--text-secondary);
            font-size: 13px;
            margin-bottom: 20px;
        }

        .skyline {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 3px;
            margin-bottom: 25px;
            height: 80px;
        }

        .building {
            background: linear-gradient(180deg, #10b981 0%, #065f46 100%);
            border-radius: 2px 2px 0 0;
            position: relative;
        }

        .building::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background: rgba(255,255,255,0.3);
            border-radius: 1px;
        }

        .building:nth-child(1) { width: 12px; height: 35px; }
        .building:nth-child(2) { width: 16px; height: 55px; }
        .building:nth-child(3) { width: 10px; height: 40px; }
        .building:nth-child(4) { width: 20px; height: 75px; }
        .building:nth-child(5) { width: 14px; height: 50px; }
        .building:nth-child(6) { width: 18px; height: 65px; }
        .building:nth-child(7) { width: 12px; height: 45px; }
        .building:nth-child(8) { width: 22px; height: 80px; }
        .building:nth-child(9) { width: 15px; height: 55px; }
        .building:nth-child(10) { width: 10px; height: 35px; }

        .network-title {
            font-size: 32px;
            font-weight: 800;
            color: var(--accent-green);
            margin-bottom: 5px;
        }

        .network-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Login Form */
        .login-section {
            background: var(--secondary-dark);
            border-radius: 24px 24px 0 0;
            margin-top: -20px;
            padding: 30px 20px;
            position: relative;
            z-index: 3;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            color: var(--text-secondary);
            font-size: 13px;
            margin-bottom: 8px;
            text-align: right;
        }

        .form-input {
            width: 100%;
            padding: 16px 20px;
            background: var(--card-dark);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 18px;
            font-family: 'Tajawal', sans-serif;
            text-align: center;
            letter-spacing: 2px;
            direction: ltr;
        }

        .form-input::placeholder {
            color: var(--text-muted);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-green);
        }

        .form-select {
            width: 100%;
            padding: 16px 20px;
            background: var(--card-dark);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 14px;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
            appearance: none;
        }

        .select-wrapper {
            position: relative;
        }

        .select-wrapper::after {
            content: '\f107';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            pointer-events: none;
        }

        .select-wrapper .icon-right {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-green);
        }

        .saved-card-row {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--card-dark);
            padding: 16px 20px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            cursor: pointer;
        }

        .saved-card-icon {
            width: 40px;
            height: 28px;
            background: #ef4444;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .saved-card-text {
            flex: 1;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .login-btn {
            width: 100%;
            padding: 16px;
            background: var(--gradient-green);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 700;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 24px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
        }

        /* Pricing Section */
        .pricing-section {
            padding: 40px 16px;
            background: var(--primary-dark);
        }

        .section-title {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 24px;
        }

        .section-title i {
            color: var(--accent-green);
        }

        .pricing-grid {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .pricing-card {
            background: var(--accent-yellow);
            border-radius: 16px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            color: #1a1a1a;
        }

        .pricing-card.featured {
            background: linear-gradient(135deg, #0f4a3c 0%, #0a2e25 100%);
            border: 2px solid var(--accent-green);
            color: var(--text-primary);
        }

        .pricing-card .new-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background: var(--accent-green);
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
        }

        .pricing-card.featured .new-badge {
            background: var(--accent-yellow);
            color: #000;
        }

        .pricing-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .pricing-features {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .pricing-feature {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: inherit;
            opacity: 0.8;
        }

        .pricing-card.featured .pricing-feature {
            color: var(--text-secondary);
        }

        .pricing-feature i {
            font-size: 10px;
        }

        .pricing-price {
            text-align: left;
        }

        .price-amount {
            font-size: 36px;
            font-weight: 800;
        }

        .price-currency {
            font-size: 14px;
            opacity: 0.8;
            margin-right: 4px;
        }

        .price-period {
            font-size: 13px;
            color: inherit;
            opacity: 0.9;
        }

        .pricing-card.featured .price-period {
            color: var(--accent-green);
        }

        .buy-btn {
            width: 100%;
            padding: 12px;
            background: var(--gradient-green);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
            transition: all 0.2s;
        }

        .pricing-card:not(.featured) .buy-btn {
            background: #1a1a1a;
        }

        .buy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .pricing-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .pricing-card.small {
            padding: 16px;
        }

        .pricing-card.small .price-amount {
            font-size: 28px;
        }

        /* Tips Section */
        .tips-section {
            padding: 40px 16px;
            background: var(--secondary-dark);
        }

        .tips-title {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .tips-title i {
            color: var(--accent-green);
        }

        .tips-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .tip-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--card-dark);
            border-radius: 10px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .tip-item i {
            color: var(--accent-green);
            font-size: 14px;
        }

        /* Sales Points */
        .sales-section {
            padding: 40px 16px;
            background: var(--primary-dark);
        }

        .sales-title {
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
        }

        .sales-badges {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
        }

        .sales-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--card-dark);
            border-radius: 25px;
            font-size: 13px;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .sales-badge i {
            color: var(--accent-green);
        }

        /* Contact Section */
        .contact-section {
            padding: 40px 16px;
            background: var(--secondary-dark);
            text-align: center;
        }

        .contact-title {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--accent-green);
        }

        .phone-numbers {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 30px;
        }

        .phone-number {
            font-size: 18px;
            color: var(--text-secondary);
            direction: ltr;
            text-decoration: none;
        }

        /* Footer */
        .footer {
            padding: 30px 16px;
            background: var(--primary-dark);
            text-align: center;
        }

        .footer-brand {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        .footer-brand-line {
            width: 40px;
            height: 2px;
            background: var(--accent-yellow);
        }

        .footer-brand-text {
            color: var(--accent-green);
            font-size: 14px;
            font-weight: 600;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 24px;
        }

        .social-link {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            transition: transform 0.2s;
            text-decoration: none;
        }

        .social-link:hover {
            transform: translateY(-3px);
        }

        .social-link.facebook { background: #1877f2; }
        .social-link.instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .social-link.whatsapp { background: #25d366; }

        .copyright {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .copyright i {
            color: var(--accent-green);
        }

        /* ============ PAGE 2: ONLINE PURCHASE ============ */
        .page-header {
            background: linear-gradient(135deg, #0f4a3c 0%, #0a2e25 100%);
            padding: 24px 20px;
            position: relative;
        }

        .step-indicator {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 32px;
            height: 32px;
            background: var(--accent-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .page-header-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            padding-left: 50px;
        }

        .page-header-subtitle {
            font-size: 14px;
            color: var(--accent-green);
        }

        /* Info Card */
        .info-card {
            background: var(--card-dark);
            margin: 20px 16px;
            border-radius: 16px;
            padding: 20px;
        }

        .info-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .info-card-header i {
            color: var(--accent-green);
            font-size: 20px;
        }

        .info-card-title {
            font-size: 16px;
            font-weight: 600;
        }

        .info-steps {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .info-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .info-step-number {
            width: 28px;
            height: 28px;
            background: var(--accent-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }

        .info-step-text {
            font-size: 11px;
            color: var(--text-secondary);
            text-align: center;
        }

        .info-description {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 16px;
        }

        .info-list {
            list-style: none;
            margin-bottom: 16px;
        }

        .info-list li {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .info-list li::before {
            content: '•';
            color: var(--accent-green);
            font-weight: bold;
        }

        .phone-box {
            background: var(--secondary-dark);
            border-radius: 10px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .phone-box i {
            color: var(--accent-green);
        }

        .phone-box span {
            direction: ltr;
            font-size: 14px;
        }

        .sms-link {
            color: var(--accent-green);
            font-size: 13px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        /* Package Selection Section */
        .packages-section {
            padding: 24px 16px;
        }

        .packages-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .packages-header .step-indicator {
            position: static;
        }

        .packages-title {
            font-size: 18px;
            font-weight: 700;
        }

        .package-card {
            background: var(--card-dark);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
        }

        .package-card:hover,
        .package-card.selected {
            border-color: var(--accent-green);
        }

        .package-info {
            flex: 1;
        }

        .package-name {
            font-size: 16px;
            font-weight: 700;
            color: var(--accent-yellow);
            margin-bottom: 8px;
        }

        .package-details {
            display: flex;
            gap: 16px;
        }

        .package-detail {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .package-detail i {
            color: var(--accent-green);
            font-size: 10px;
        }

        .package-price {
            text-align: left;
        }

        .package-price-amount {
            font-size: 32px;
            font-weight: 800;
        }

        .package-price-currency {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .package-buy-btn {
            width: 100%;
            padding: 12px;
            background: var(--gradient-yellow);
            border: none;
            border-radius: 10px;
            color: #1a1a1a;
            font-size: 14px;
            font-weight: 700;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 12px;
            transition: all 0.2s;
        }

        .package-buy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(251, 191, 36, 0.3);
        }

        /* ============ PAGE 3: PAYMENT METHODS ============ */
        .selected-package-bar {
            background: var(--card-dark);
            margin: 16px;
            border-radius: 12px;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .selected-package-info {
            text-align: right;
        }

        .selected-package-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .selected-package-name {
            font-size: 16px;
            font-weight: 700;
        }

        .selected-package-price {
            text-align: left;
        }

        .selected-package-price-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .selected-package-price-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--accent-green);
        }

        .progress-bar {
            height: 4px;
            background: var(--border-color);
            margin: 0 16px 24px;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-green);
            width: 50%;
            border-radius: 2px;
        }

        /* Payment Methods Grid */
        .payment-methods-section {
            padding: 0 16px 24px;
        }

        .payment-methods-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }

        .payment-method {
            background: var(--card-dark);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
            position: relative;
        }

        .payment-method:hover,
        .payment-method.selected {
            border-color: var(--accent-green);
        }

        .payment-method-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: #ef4444;
            color: white;
            padding: 4px 10px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
            white-space: nowrap;
        }

        .payment-method-icon {
            width: 56px;
            height: 56px;
            border-radius: 14px;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .payment-method-icon.green { background: linear-gradient(135deg, #065f46 0%, #047857 100%); color: white; }
        .payment-method-icon.blue { background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); color: white; }
        .payment-method-icon.cyan { background: linear-gradient(135deg, #0e7490 0%, #06b6d4 100%); color: white; }
        .payment-method-icon.purple { background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%); color: white; }
        .payment-method-icon.orange { background: linear-gradient(135deg, #ea580c 0%, #f97316 100%); color: white; }
        .payment-method-icon.teal { background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%); color: white; }


        .payment-method-icon.brand{
            background: var(--pm-bg, var(--gradient-green));
            color: #fff;
        }

        /* make modal message support line breaks */
        .modal-message{ white-space: pre-line; }


        .payment-method-name {
            font-size: 14px;
            font-weight: 600;
        }

        .payment-method-full {
            grid-column: span 2;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: var(--card-dark);
            border-radius: 16px;
            padding: 24px;
            max-width: 380px;
            width: 100%;
            text-align: center;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(16, 185, 129, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
        }

        .modal-icon i {
            font-size: 28px;
            color: var(--accent-green);
        }

        .modal-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .modal-message{
            /* قراءة أوضح للرسائل (الفواتير/بيانات الحساب) */
            white-space: pre-line;
            unicode-bidi: plaintext;
            direction: rtl;
            text-align: right;
            background: var(--secondary-dark);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 14px 14px;
            color: var(--text-primary);
            font-size: 15px;
            font-weight: 500;
            line-height: 1.9;
            margin-bottom: 20px;
        }

        .modal-btn {
            padding: 12px 32px;
            background: var(--gradient-green);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 360px) {
            .network-title { font-size: 26px; }
            .price-amount { font-size: 28px; }
            .pricing-card.small .price-amount { font-size: 24px; }
        }
    
        /* Saved Cards Dropdown */
        .saved-cards-panel{
            margin-top: 10px;
            background: var(--card-dark);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 12px;
            display: none;
        }
        .saved-cards-panel.active{ display:block; }
        .saved-cards-header{
            display:flex;
            align-items:center;
            justify-content:space-between;
            margin-bottom:10px;
            color: var(--text-secondary);
            font-size: 13px;
        }
        .saved-cards-clear{
            background: transparent;
            border: none;
            color: var(--accent-yellow);
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
            font-size: 12px;
        }
        .saved-cards-list{
            display:flex;
            flex-direction:column;
            gap:8px;
            margin-bottom: 12px;
        }
        .saved-card-item{
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:10px;
            background: var(--secondary-dark);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 10px 12px;
            cursor: pointer;
        }
        .saved-card-code{
            direction:ltr;
            font-size: 14px;
            letter-spacing: 1px;
            color: var(--text-primary);
        }
        .saved-card-meta{
            font-size: 11px;
            color: var(--text-muted);
        }
        .saved-card-remove{
            background: transparent;
            border: none;
            color: #ef4444;
            cursor: pointer;
            font-size: 14px;
        }
        .saved-cards-footer .saved-cards-add{
            width:100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            background: var(--card-lighter);
            border-radius: 10px;
            color: var(--text-primary);
            font-family:'Tajawal', sans-serif;
            font-weight: 600;
            cursor:pointer;
            display:flex;
            align-items:center;
            justify-content:center;
            gap:8px;
        }

    
        /* Modal actions */
        .modal-actions{
            display:flex;
            gap:10px;
            justify-content:center;
            margin-top: 14px;
            flex-wrap: wrap;
        }
        .modal-btn.secondary{
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }

    
        /* Fixed Bottom Contact Bar */
        .bottom-contact-bar{
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(26, 35, 50, 0.98);
            border-top: 1px solid var(--border-color);
            z-index: 900;
            padding: 10px 12px;
            backdrop-filter: blur(6px);
        }
        .bottom-contact-inner{
            max-width: 480px;
            margin: 0 auto;
            display: flex;
            gap: 10px;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        .bottom-contact-item{
            flex: 1;
            min-width: 145px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px 12px;
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-primary);
            background: var(--secondary-dark);
            border: 1px solid var(--border-color);
            font-size: 12px;
            font-weight: 600;
            transition: transform 0.2s;
        }
        .bottom-contact-item:hover{ transform: translateY(-2px); }
        .bottom-contact-item i{ color: var(--accent-green); font-size: 16px; }

        /* Safe area support for iOS */
        @supports (padding: max(0px)){
            body{ padding-bottom: max(76px, env(safe-area-inset-bottom)); }
            .bottom-contact-bar{ padding-bottom: max(10px, env(safe-area-inset-bottom)); }
        }

    </style>
</head>
<body>
    <!-- ============ PAGE 1: MAIN LOGIN ============ -->
    <div class="page active" id="page-main">
        <!-- Header -->
        <header class="header">
            <div class="header-badges">
                <button class="settings-btn">
                    <i class="fas fa-cog"></i>
                </button>
</div>
            <span class="promo-text">مرحبا بكم في شبكة القحيط</span>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <div class="hero-5g">
                    <span class="hero-5g-label">سرعة خيالية</span>
                    <span class="hero-5g-text">5G</span>
                </div>
                <p class="hero-subtitle">تم توفير خدمة شراء الكروت من المنزل </p>

                <div class="skyline">
                    <div class="building"></div>
                    <div class="building"></div>
                    <div class="building"></div>
                    <div class="building"></div>
                    <div class="building"></div>
                    <div class="building"></div>
                    <div class="building"></div>
                    <div class="building"></div>
                    <div class="building"></div>
                    <div class="building"></div>
                </div>

                <h1 class="network-title">شبكة القحيط</h1>
                <p class="network-subtitle">بوابة تسجيل الدخول الآمنة</p>
            </div>
        </section>

        <!-- Login Section -->
        <section class="login-section">
            <div class="form-group">
                <label class="form-label">رمز الدخول</label>
                <input type="text" class="form-input" placeholder="XXX-XXX-XXX" maxlength="11" id="accessCode">
            </div>

            <div class="form-group">
                <div class="select-wrapper">
                    <select class="form-select" id="speedSelect">
                        <option value="auto">اختر سرعة الكرت</option>
                        <option value="1">1 ميجا</option>
                        <option value="2">2 ميجا</option>
                        <option value="4">4 ميجا</option>
                        <option value="8">8 ميجا</option>
                    </select>
                    <i class="fas fa-wifi icon-right"></i>
                </div>
            </div>

            <div class="form-group">
                <div class="saved-card-row" id="savedCardRow" role="button" tabindex="0" aria-expanded="false">
                    <div class="saved-card-icon">
                        <i class="fas fa-sim-card" style="color: white; font-size: 12px;"></i>
                    </div>
                    <span class="saved-card-text">استخدام كرت محفوظ</span>
                    <i class="fas fa-chevron-down" style="color: var(--text-muted);"></i>
                
            <div class="saved-cards-panel" id="savedCardsPanel" aria-hidden="true">
                <div class="saved-cards-header">
                    <span>الكروت المحفوظة</span>
                    <button class="saved-cards-clear" type="button" id="clearSavedCards">مسح الكل</button>
                </div>
                <div class="saved-cards-list" id="savedCardsList">
                    <!-- injected by JS -->
                </div>
                <div class="saved-cards-footer">
                    <button class="saved-cards-add" type="button" id="saveCurrentCard">
                        <i class="fas fa-bookmark"></i>
                        حفظ الرمز الحالي
                    </button>
                </div>
            </div>


            </div>
            </div>

            <button class="login-btn" onclick="handleLogin()">
                <span>تسجيل الدخول </span>
                <i class="fas fa-arrow-left"></i>
            </button>
        </section>

        <!-- Pricing Section -->
        <section class="pricing-section">
            <h2 class="section-title">
                <span>أسعار الكروت</span>
                <i class="fas fa-tag"></i>
            </h2>

            <div class="pricing-grid">
                <!-- Featured Card -->
                <div class="pricing-card featured">
                    <span class="new-badge">الاكثر طلباً</span>
                    <div class="pricing-header">
                        <div class="pricing-features">
                            <div class="pricing-feature">
                                <i class="fas fa-cloud-download-alt"></i>
                                <span>400 ميجابايت</span>
                            </div>
                            <div class="pricing-feature">
                                <i class="fas fa-calendar-check"></i>
                                <span>صلاحية 3 أيام</span>
                            </div>
                        </div>
                        <div class="pricing-price">
                            <span class="price-amount">100</span>
                            <span class="price-currency">ريال</span>
                            <div class="price-period">كرت 3 ساعات</div>
                        </div>
                    </div>
                    <button class="buy-btn" onclick="startPurchase(100, 'كرت 3 ساعات')">
                        <i class="fas fa-shopping-cart"></i>
                        <span>شراء الآن</span>
                    </button>
                </div>

                <!-- Two Column Cards -->
                <div class="pricing-row">
                    <div class="pricing-card small">
                        <div class="pricing-header">
                            <div class="pricing-features">
                                <div class="pricing-feature">
                                    <span>18 ساعة</span>
                                </div>
                                <div class="pricing-feature">
                                    <span>2 جيجا تحميل</span>
                                </div>
                                <div class="pricing-feature">
                                    <span>صلاحية 15 يوم</span>
                                </div>
                            </div>
                            <div class="pricing-price">
                                <span class="price-amount">500</span>
                                <span class="price-currency">ريال</span>
                            </div>
                        </div>
                        <button class="buy-btn" onclick="startPurchase(500, 'كرت 18 ساعة')">
                            <span>شراء الآن</span>
                        </button>
                    </div>

                    <div class="pricing-card small">
                        <div class="pricing-header">
                            <div class="pricing-features">
                                <div class="pricing-feature">
                                    <span>10 ساعات</span>
                                </div>
                                <div class="pricing-feature">
                                    <span>1200 ميجابايت</span>
                                </div>
                                <div class="pricing-feature">
                                    <span>صلاحية 7 أيام</span>
                                </div>
                            </div>
                            <div class="pricing-price">
                                <span class="price-amount">300</span>
                                <span class="price-currency">ريال</span>
                            </div>
                        </div>
                        <button class="buy-btn" onclick="startPurchase(300, 'كرت 10 ساعات')">
                            <span>شراء الآن</span>
                        </button>
                    </div>
                </div>

                <!-- Monthly Card -->
                <div class="pricing-card">
                    <div class="pricing-header">
                        <div class="pricing-features">
                            <div class="pricing-feature">
                                <i class="fas fa-cloud-download-alt"></i>
                                <span>4 جيجا تحميل</span>
                            </div>
                            <div class="pricing-feature">
                                <i class="fas fa-calendar-check"></i>
                                <span>صلاحية 1 شهر</span>
                            </div>
                        </div>
                        <div class="pricing-price">
                            <span class="price-amount">1000</span>
                            <span class="price-currency">ريال</span>
                            <div class="price-period">الكرت الشهرية (40 ساعة)</div>
                        </div>
                    </div>
                    <button class="buy-btn" onclick="startPurchase(1000, 'الكرت الشهرية')">
                        <span>شراء الآن</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Tips Section -->
        <section class="tips-section">
            <h3 class="tips-title">
                <i class="fas fa-lightbulb"></i>
                <span>نصائح للاتصال</span>
            </h3>
            <div class="tips-list">
                <div class="tip-item">
                    <i class="fas fa-wifi"></i>
                    <span>في حال واجهت مشكلة في الدخول، حدّث الصفحة ثم أعد المحاولة</span>
                </div>
                <div class="tip-item">
                    <i class="fas fa-clock"></i>
                    <span>إذا كان الكرت مستخدم، انتظر 5 دقائق</span>
                </div>
                <div class="tip-item">
                    <i class="fas fa-check-circle"></i>
                    <span>تأكد من صحة رمز الكرت</span>
                </div>
            </div>
        </section>

        <!-- Sales Points Section -->
        <section class="sales-section">
            <h3 class="sales-title">نقاط البيع المعتمدة</h3>
            <div class="sales-badges">
                <div class="sales-badge">
                    <i class="fas fa-store"></i>
                    <span>جميع البقالات المجاورة</span>
                </div>
                <div class="sales-badge">
                    <i class="fas fa-sms"></i>
                    <span>شراء عبر الرسائل النصية</span>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="contact-section">
            <h3 class="contact-title">
                <i class="fab fa-whatsapp"></i>
                <span>للتواصل والاستفسار عن الكروت</span>
            </h3>
            <div class="phone-numbers">
                <a href="tel:773939065" class="phone-number">773939065</a>
                <a href="tel:771494241" class="phone-number">771494241</a>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-brand">
                <span class="footer-brand-line"></span>
                <span class="footer-brand-text">المهندس يحيى خالد البناء</span>
                <span class="footer-brand-line"></span>
            </div>

            <div class="social-links">
<a href="https://instagram.com/yahya.albnaa" class="social-link instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://wa.me/967774586524" class="social-link whatsapp">
                    <i class="fab fa-whatsapp"></i>
                </a>
            </div>

            <div class="copyright">
                <i class="far fa-copyright"></i>
                <span>برمجة وتصميم المبرمج يحيى خالد البناء</span>
            </div>
        </footer>
    </div>

    <!-- ============ PAGE 2: ONLINE PURCHASE ============ -->
    <div class="page" id="page-purchase">
        <!-- Header -->
        <div class="sub-header">
            <button class="help-btn">
                <i class="fas fa-question"></i>
            </button>
            <span class="sub-header-title">شبكة القحيط</span>
            <button class="back-btn" onclick="goToPage('page-main')">
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>

        <!-- Page Header -->
        <div class="page-header">
            <div class="step-indicator">1</div>
            <h1 class="page-header-title">شراء الكروت أونلاين</h1>
            <p class="page-header-subtitle">اختر الكرت المناسبة لاحتياجاتك</p>
        </div>

        <!-- Info Card -->
        <div class="info-card">
            <div class="info-card-header">
                <i class="fas fa-question-circle"></i>
                <h3 class="info-card-title">كيف تشتري كرت وانت في بيتك؟</h3>
            </div>

            <div class="info-steps">
                <div class="info-step">
                    <div class="info-step-number">1</div>
                    <span class="info-step-text">اختر الكرت</span>
                </div>
                <div class="info-step">
                    <div class="info-step-number">2</div>
                    <span class="info-step-text">ادفع بالمحفظة</span>
                </div>
                <div class="info-step">
                    <div class="info-step-number">3</div>
                    <span class="info-step-text">رسالة الكرت</span>
                </div>
            </div>

            <p class="info-description">
                يمكنك الآن شراء الكرت الذي ترغب فيه من المنزل بسهولة.
            </p>

            <ul class="info-list">
                <li>اختر الكرت الذي تود شراؤه</li>
                <li>اختر وسيلة الدفع المناسبة لديك</li>
                <li>قم بدفع المبلغ وستصل إليك رسالة تحتوي على رمز الكرت</li>
                <li>نفس الرقم الذي دفعت من خلاله</li>
            </ul>

            <div class="phone-box">
                <i class="fas fa-comment-sms"></i>
                <span>+967 774 586 524</span>
            </div>

            <a href="sms:774586524" class="sms-link">
                <span>للمساعدة راسلنا SMS: 774586524</span>
            </a>
        </div>

        <!-- Packages Section -->
        <div class="packages-section">
            <div class="packages-header">
                <div class="step-indicator">1</div>
                <h2 class="packages-title">اختر الكرت المناسبة</h2>
            </div>

            <div class="package-card" onclick="selectPackage(this, 100, 'كرت 3 ساعات')">
                <div class="package-info">
                    <h3 class="package-name">كرت 3 ساعات</h3>
                    <div class="package-details">
                        <span class="package-detail">
                            <i class="fas fa-circle"></i>
                            400 ميجا
                        </span>
                        <span class="package-detail">
                            <i class="fas fa-circle"></i>
                            3 أيام
                        </span>
                    </div>
                </div>
                <div class="package-price">
                    <span class="package-price-amount">100</span>
                    <span class="package-price-currency">ريال</span>
                </div>
                <button class="package-buy-btn" onclick="event.stopPropagation(); goToPayment(100, 'كرت 3 ساعات')">
                    <i class="fas fa-shopping-cart"></i>
                    شراء الآن
                </button>
            </div>

            <div class="package-card" onclick="selectPackage(this, 300, 'كرت 10 ساعات')">
                <div class="package-info">
                    <h3 class="package-name">كرت 10 ساعات</h3>
                    <div class="package-details">
                        <span class="package-detail">
                            <i class="fas fa-circle"></i>
                            1260 ميجا
                        </span>
                        <span class="package-detail">
                            <i class="fas fa-circle"></i>
                            7 أيام
                        </span>
                    </div>
                </div>
                <div class="package-price">
                    <span class="package-price-amount">300</span>
                    <span class="package-price-currency">ريال</span>
                </div>
                <button class="package-buy-btn" onclick="event.stopPropagation(); goToPayment(300, 'كرت 10 ساعات')">
                    <i class="fas fa-shopping-cart"></i>
                    شراء الآن
                </button>
            </div>

            <div class="package-card" onclick="selectPackage(this, 500, 'كرت 18 ساعة')">
                <div class="package-info">
                    <h3 class="package-name">كرت 18 ساعة</h3>
                    <div class="package-details">
                        <span class="package-detail">
                            <i class="fas fa-circle"></i>
                            2 جيجا
                        </span>
                        <span class="package-detail">
                            <i class="fas fa-circle"></i>
                            15 يوم
                        </span>
                    </div>
                </div>
                <div class="package-price">
                    <span class="package-price-amount">500</span>
                    <span class="package-price-currency">ريال</span>
                </div>
                <button class="package-buy-btn" onclick="event.stopPropagation(); goToPayment(500, 'كرت 18 ساعة')">
                    <i class="fas fa-shopping-cart"></i>
                    شراء الآن
                </button>
            </div>

            <div class="package-card" onclick="selectPackage(this, 1000, 'كرت 40 ساعة')">
                <div class="package-info">
                    <h3 class="package-name">كرت 40 ساعة</h3>
                    <div class="package-details">
                        <span class="package-detail">
                            <i class="fas fa-circle"></i>
                            4 جيجا
                        </span>
                        <span class="package-detail">
                            <i class="fas fa-circle"></i>
                            1 شهر
                        </span>
                    </div>
                </div>
                <div class="package-price">
                    <span class="package-price-amount">1000</span>
                    <span class="package-price-currency">ريال</span>
                </div>
                <button class="package-buy-btn" onclick="event.stopPropagation(); goToPayment(1000, 'كرت 40 ساعة')">
                    <i class="fas fa-shopping-cart"></i>
                    شراء الآن
                </button>
            </div>
        </div>
        <!-- Fixed Bottom Contact Bar -->
    <div class="bottom-contact-bar" role="contentinfo" aria-label="شريط تواصل ثابت">
        <div class="bottom-contact-inner">
            <a class="bottom-contact-item" href="https://wa.me/967774586524" target="_blank" rel="noopener">
                <i class="fab fa-whatsapp"></i>
                <span>واتساب: 774586524</span>
            </a>
            <a class="bottom-contact-item" href="tel:774586524">
                <i class="fas fa-phone"></i>
                <span>اتصال: 774586524</span>
            </a>
            <a class="bottom-contact-item" href="https://instagram.com/yahya.albnaa" target="_blank" rel="noopener">
                <i class="fab fa-instagram"></i>
                <span>انستقرام: @yahya.albnaa</span>
            </a>
        </div>
    </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="copyright">
                <i class="far fa-copyright"></i>
                <span>برمجة وتصميم المبرمج يحيى خالد البناء</span>
            </div>
        </footer>
    </div>

    <!-- ============ PAGE 3: PAYMENT METHODS ============ -->
    <div class="page" id="page-payment">
        <!-- Header -->
        <div class="sub-header">
            <button class="help-btn">
                <i class="fas fa-question"></i>
            </button>
            <span class="sub-header-title">شبكة القحيط</span>
            <button class="back-btn" onclick="goToPage('page-purchase')">
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>

        <!-- Page Header -->
        <div class="page-header">
            <div class="step-indicator">2</div>
            <h1 class="page-header-title">اختر وسيلة الدفع</h1>
            <p class="page-header-subtitle">الخاصة بك</p>
        </div>

        <!-- Selected Package Bar -->
        <div class="selected-package-bar">
            <div class="selected-package-info">
                <div class="selected-package-label">الكرت المختارة</div>
                <div class="selected-package-name" id="selectedPackageName">كرت 3 ساعات</div>
            </div>
            <div class="selected-package-price">
                <div class="selected-package-price-label">السعر</div>
                <div class="selected-package-price-value"><span id="selectedPackagePrice">100</span> ريال</div>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill"></div>
        </div>

        <!-- Payment Methods -->
        <div class="payment-methods-section">
            <div class="payment-methods-grid">
                <div class="payment-method" onclick="selectPayment(this, 'Jib')">
                    <div class="payment-method-badge">الأكثر استعمالاً</div>
                    <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #e6002a 0%, #b80022 100%);">
                        <i class="fas fa-wallet"></i>
                    </div>
<div class="payment-method-name">جيب</div>
                </div>

                <div class="payment-method" onclick="selectPayment(this, 'جوالي')">
                    <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
<div class="payment-method-name">جوالي</div>
                </div>

                <div class="payment-method" onclick="selectPayment(this, 'حاسب')">
                    <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #6d28d9 0%, #a855f7 100%);">
                        <i class="fas fa-piggy-bank"></i>
                    </div>
<div class="payment-method-name">حاسب</div>
                </div>

                <div class="payment-method" onclick="selectPayment(this, 'موبايل موني')">
                    <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%);">
                        <i class="fas fa-university"></i>
                    </div>
<div class="payment-method-name">موبايل موني</div>
                </div>

                <div class="payment-method" onclick="selectPayment(this, 'فلوسك')">
                    <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #0e7490 0%, #0b4f6c 100%);">
                        <i class="fas fa-credit-card"></i>
                    </div>
<div class="payment-method-name">فلوسك</div>
                </div>

                <div class="payment-method" onclick="selectPayment(this, 'محفظتي')">
                    <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);">
                        <i class="fas fa-wallet"></i>
                    </div>
<div class="payment-method-name">محفظتي</div>
                </div>

                <div class="payment-method" onclick="selectPayment(this, 'One Cash')">
                    <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #f97316 0%, #ea580c 100%);">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
<div class="payment-method-name">ون كاش</div>
                </div>

                <div class="payment-method" onclick="selectPayment(this, 'Hasseb')">
                    <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);">
                        <i class="fas fa-store"></i>
                    </div>
<div class="payment-method-name">يمن والت</div>
                </div>
            </div>

            
            <div class="payment-method payment-method-full" onclick="selectPayment(this, 'كاش')">
                <div class="payment-method-icon brand" style="--pm-bg: linear-gradient(135deg, #0f766e 0%, #115e59 100%);">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="payment-method-name">كاش </div>
            </div>


        <!-- Footer -->
        <footer class="footer">
            <div class="copyright">
                <i class="far fa-copyright"></i>
                <span>برمجة وتصميم المبرمج يحيى خالد البناء</span>
            </div>
        </footer>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-check" id="modalIcon"></i>
            </div>
            <h4 class="modal-title" id="modalTitle">تم بنجاح</h4>
            <p class="modal-message" id="modalMessage">تم إرسال طلبك بنجاح</p>
            <div class="modal-actions"><button class="modal-btn secondary" id="modalSecondaryBtn" onclick="closeModal()">حسناً</button><button class="modal-btn" id="modalActionBtn" style="display:none;" type="button">تم الدفع</button></div>
        </div>
    </div>

    
    <!-- Fixed Bottom Contact Bar -->
    <div class="bottom-contact-bar" role="contentinfo" aria-label="شريط تواصل ثابت">
        <div class="bottom-contact-inner">
            <a class="bottom-contact-item" href="https://wa.me/967774586524" target="_blank" rel="noopener">
                <i class="fab fa-whatsapp"></i>
                <span>واتساب: 774586524</span>
            </a>
            <a class="bottom-contact-item" href="tel:774586524">
                <i class="fas fa-phone"></i>
                <span>اتصال: 774586524</span>
            </a>
            <a class="bottom-contact-item" href="https://instagram.com/yahya.albnaa" target="_blank" rel="noopener">
                <i class="fab fa-instagram"></i>
                <span>انستقرام: @yahya.albnaa</span>
            </a>
        </div>
    </div>

<script>
        // State
        let selectedPrice = 100;
        let selectedPackage = 'كرت 3 ساعات';


        // ============ Saved Cards (LocalStorage) ============
        const SAVED_CARDS_KEY = 'qahit_saved_cards_v1';

        function getSavedCards(){
            try{
                const raw = localStorage.getItem(SAVED_CARDS_KEY);
                const arr = raw ? JSON.parse(raw) : [];
                return Array.isArray(arr) ? arr : [];
            }catch(_){
                return [];
            }
        }

        function setSavedCards(cards){
            localStorage.setItem(SAVED_CARDS_KEY, JSON.stringify(cards));
        }

        function renderSavedCards(){
            const list = document.getElementById('savedCardsList');
            if(!list) return;

            const cards = getSavedCards();
            if(cards.length === 0){
                list.innerHTML = '<div class="saved-card-meta">لا توجد كروت محفوظة حالياً.</div>';
                return;
            }

            list.innerHTML = cards.map((c, idx) => `
                <div class="saved-card-item" data-idx="${idx}">
                    <div>
                        <div class="saved-card-code">${c.code}</div>
                        <div class="saved-card-meta">آخر استخدام: ${c.updatedAt || '—'}</div>
                    </div>
                    <button class="saved-card-remove" type="button" aria-label="حذف" data-remove="${idx}">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `).join('');
        }

        function toggleSavedCardsPanel(forceState){
            const row = document.getElementById('savedCardRow');
            const panel = document.getElementById('savedCardsPanel');
            if(!row || !panel) return;

            const willOpen = (typeof forceState === 'boolean') ? forceState : !panel.classList.contains('active');
            panel.classList.toggle('active', willOpen);
            row.setAttribute('aria-expanded', willOpen ? 'true' : 'false');
            panel.setAttribute('aria-hidden', willOpen ? 'false' : 'true');

            if(willOpen) renderSavedCards();
        }

        function normalizeCode(input){
            // Keep digits + X, format as XXX-XXX-XXX
            const value = String(input || '').replace(/[^0-9X]/gi, '').toUpperCase().slice(0, 9);
            return value.replace(/(.{3})(?=.)/g, '$1-').slice(0, 11);
        }

        // Format access code input
        const accessCodeInput = document.getElementById('accessCode');
        accessCodeInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/[^0-9X]/gi, '').toUpperCase();
            let formatted = '';
            for (let i = 0; i < value.length && i < 9; i++) {
                if (i === 3 || i === 6) {
                    formatted += '-';
                }
                formatted += value[i];
            }
            e.target.value = formatted;
        });

        // Page Navigation
        function goToPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
        }

        // Start Purchase Flow
        function startPurchase(price, packageName) {
            selectedPrice = price;
            selectedPackage = packageName;
            goToPage('page-purchase');
        }

        // Select Package
        function selectPackage(element, price, packageName) {
            document.querySelectorAll('.package-card').forEach(card => {
                card.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedPrice = price;
            selectedPackage = packageName;
        }

        // Go to Payment
        function goToPayment(price, packageName) {
            selectedPrice = price;
            selectedPackage = packageName;
            document.getElementById('selectedPackageName').textContent = packageName;
            document.getElementById('selectedPackagePrice').textContent = price;
            goToPage('page-payment');
        }

        
        // ============ Purchase: SMS Invoice ============
        const SUPPORT_SMS = '774586524';
        const ACCOUNT_NUMBER = '774586524';
        const ACCOUNT_NAME = 'يحيى خالد نعمان البناء';

        function getSpeedLabel(){
            const sel = document.getElementById('speedSelect');
            if(!sel) return '—';
            const opt = sel.options[sel.selectedIndex];
            return opt ? opt.textContent.trim() : '—';
        }

        function openSMSInvoice(method){
            const pkg = selectedPackage;
            const body = `شبكة القحيط: ${pkg} بـ${selectedPrice}ريال. تم الدفع. الرجاء إرسال الكرت.`;
            const url = `sms:${SUPPORT_SMS}?body=${encodeURIComponent(body)}`;
            window.location.href = url;
        }

        function showPaymentInstructions(method){
            // Show a modal with instructions + "تم الدفع" button
            showModal(
                'تعليمات الدفع',
                `1) يرجى إتمام عملية الدفع عبر (${method}).\n2) بعد الدفع اضغط زر (تم الدفع) لإرسال الفاتورة عبر SMS.`,'fa-info-circle',
                {
                    actionText: 'تم الدفع',
                    onAction: () => openSMSInvoice(method)
                }
            );
        }


        
        // إشعار بيانات الدفع (رقم/اسم الحساب) قبل عرض الفاتورة
        function showPaymentAccountDetails(method){
            const msg =
`يرجى تحويل مبلغ الكرت إلى البيانات التالية:
رقم الحساب: ${ACCOUNT_NUMBER}
اسم الحساب: ${ACCOUNT_NAME}

وسيلة الدفع المختارة: ${method}

بعد التحويل اضغط (عرض الفاتورة) لمراجعة تفاصيل الشراء قبل الدفع.`;

            showModal(
                'بيانات الدفع',
                msg,
                'fa-wallet',
                {
                    actionText: 'عرض الفاتورة',
                    onAction: () => showInvoiceReview(method)
                }
            );
        }

// فاتورة مراجعة قبل التنفيذ
        function showInvoiceReview(method){
            const now = new Date();
            const dateStr = now.toLocaleString('ar-YE');
            const speed = getSpeedLabel();

            const invoice =
`فاتورة مراجعة قبل التنفيذ
-------------------------
التاريخ: ${dateStr}
الكرت: ${selectedPackage}
السعر: ${selectedPrice} ريال
وسيلة الدفع: ${method}
رقم الحساب: ${ACCOUNT_NUMBER}
اسم الحساب: ${ACCOUNT_NAME}
-------------------------

ملاحظة مهمة:
لا تضغط زر "تم الدفع" إلا بعد الإيداع فعلياً.`;

            showModal(
                'فاتورة المراجعة',
                invoice,
                'fa-receipt',
                {
                    actionText: 'متابعة الدفع',
                    onAction: () => showPaymentInstructions(method)
                }
            );
        }

        // Select Payment Method
        function selectPayment(element, method) {
            document.querySelectorAll('.payment-method').forEach(pm => {
                pm.classList.remove('selected');
            });
            element.classList.add('selected');

            // عند اختيار وسيلة الدفع: اعرض بيانات التحويل ثم الفاتورة للمراجعة
            setTimeout(() => {
                showPaymentAccountDetails(method);
            }, 200);
        }

        // Modal Functions
        function showModal(title, message, iconClass = 'fa-check', options = null) {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modalTitle');
            const modalMessage = document.getElementById('modalMessage');
            const modalIcon = document.getElementById('modalIcon');

            const actionBtn = document.getElementById('modalActionBtn');
            const secondaryBtn = document.getElementById('modalSecondaryBtn');

            modalTitle.textContent = title;
            modalMessage.textContent = message;
            modalIcon.className = 'fas ' + iconClass;

            // Default: hide action button
            if(actionBtn){
                actionBtn.style.display = 'none';
                actionBtn.replaceWith(actionBtn.cloneNode(true));
            }

            // Re-grab after clone
            const freshActionBtn = document.getElementById('modalActionBtn');

            if(options && options.actionText && typeof options.onAction === 'function' && freshActionBtn){
                freshActionBtn.textContent = options.actionText;
                freshActionBtn.style.display = 'inline-flex';
                freshActionBtn.addEventListener('click', () => {
                    closeModal();
                    // تنفيذ الإجراء بعد إغلاق النافذة حتى لا تُغلق الرسالة الجديدة مباشرة
                    setTimeout(() => { options.onAction(); }, 50);
                });
            }

            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        document.addEventListener('keydown', function(e){
            if(e.key === 'Escape'){
                closeModal();
                // close saved cards dropdown too
                toggleSavedCardsPanel(false);
            }
        });

        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        
        // Saved cards UI events
        (function initSavedCards(){
            const row = document.getElementById('savedCardRow');
            const panel = document.getElementById('savedCardsPanel');
            const saveBtn = document.getElementById('saveCurrentCard');
            const clearBtn = document.getElementById('clearSavedCards');

            if(row){
                row.addEventListener('click', () => toggleSavedCardsPanel());
                row.addEventListener('keydown', (e) => {
                    if(e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleSavedCardsPanel();
                    }
                });
            }

            if(saveBtn){
                saveBtn.addEventListener('click', () => {
                    const input = document.getElementById('accessCode');
                    const code = normalizeCode(input?.value);
                    if(!code || code.length < 11){
                        showModal('تنبيه', 'ادخل رمز صحيح ثم اضغط حفظ', 'fa-info-circle');
                        return;
                    }
                    const now = new Date();
                    const stamp = now.toLocaleString('ar-YE');
                    const cards = getSavedCards();
                    const exists = cards.findIndex(c => c.code === code);
                    if(exists >= 0){
                        cards[exists].updatedAt = stamp;
                    } else {
                        cards.unshift({ code, updatedAt: stamp });
                    }
                    setSavedCards(cards.slice(0, 10)); // keep last 10
                    renderSavedCards();
                    showModal('تم', 'تم حفظ الرمز بنجاح', 'fa-check-circle');
                });
            }

            if(clearBtn){
                clearBtn.addEventListener('click', () => {
                    setSavedCards([]);
                    renderSavedCards();
                    showModal('تم', 'تم مسح كل الكروت المحفوظة', 'fa-check-circle');
                });
            }

            if(panel){
                panel.addEventListener('click', (e) => {
                    const t = e.target;
                    const removeIdx = t?.closest?.('[data-remove]')?.getAttribute('data-remove');
                    if(removeIdx !== null && removeIdx !== undefined){
                        const cards = getSavedCards();
                        cards.splice(Number(removeIdx), 1);
                        setSavedCards(cards);
                        renderSavedCards();
                        return;
                    }

                    const item = t?.closest?.('.saved-card-item');
                    if(item && item.dataset.idx !== undefined){
                        const cards = getSavedCards();
                        const idx = Number(item.dataset.idx);
                        const code = cards[idx]?.code;
                        if(code){
                            document.getElementById('accessCode').value = code;
                            toggleSavedCardsPanel(false);
                        }
                    }
                });
            }
        })();

        // Handle Login
        function handleLogin() {
            const code = document.getElementById('accessCode').value;
            const speed = document.getElementById('speedSelect').value;

            if (!code || code.length < 11) {
                showModal('خطأ', 'الرجاء إدخال رمز الدخول بشكل صحيح', 'fa-exclamation-triangle');
                return;
            }

            if (speed === 'auto') {
                showModal('تنبيه', 'الرجاء اختيار سرعة الكرت', 'fa-info-circle');
                return;
            }

            showModal('جاري الاتصال...', 'يتم التحقق من رمز الدخول', 'fa-spinner fa-spin');

            setTimeout(() => {
                showModal('تم الاتصال بنجاح', 'مرحباً بك في شبكة القحيط', 'fa-check-circle');
            }, 2000);
        }
    
        // زر المساعدة (علامة الاستفهام)
        document.querySelectorAll('.help-btn').forEach((btn) => {
            btn.addEventListener('click', () => {
                showModal(
                    'تعليمات الموقع',
                    `• اختر فئة الكرت ثم طريقة الدفع المطلوبة.
• اختر طريقة الدفع واتبع التعليمات الظاهرة.
• بعد انتهائك من الدفع اضغط (تم الدفع) لإرسال بيانات الفاتورة عبر رسالة نصية.
• سيتم التحقق من عملية الدفع، وبعد التأكد سيتم إرسال رقم الكرت لك في رسالة نصية على نفس الرقم الذي قمت بالدفع منه.
• في حال وجود أي مشكلة أو تأخير، تواصل معنا عبر الرقم التالي 774586524.`
                    ,
                    'fa-info-circle'
                );
            });
        });

</script>
</body>
</html>

